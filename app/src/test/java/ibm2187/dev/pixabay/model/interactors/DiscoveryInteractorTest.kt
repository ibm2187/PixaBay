package ibm2187.dev.pixabay.model.interactors

import com.google.gson.GsonBuilder
import ibm2187.dev.pixabay.common.base.wrappers.ResponseWrapper
import ibm2187.dev.pixabay.model.network.api.PixabayApi
import kotlinx.coroutines.flow.toList
import kotlinx.coroutines.runBlocking
import okhttp3.mockwebserver.MockResponse
import okhttp3.mockwebserver.MockWebServer
import okhttp3.mockwebserver.SocketPolicy
import org.junit.jupiter.api.AfterEach
import org.junit.jupiter.api.Assertions.*
import org.junit.jupiter.api.BeforeEach
import org.junit.jupiter.api.Test
import retrofit2.Retrofit
import retrofit2.converter.gson.GsonConverterFactory
import java.net.HttpURLConnection

internal class DiscoveryInteractorTest {

    private lateinit var mockWebServer: MockWebServer
    private lateinit var api: PixabayApi
    private lateinit var discoveryInteractor: DiscoveryInteractor

    private val url = "http://localhost:8080/"

    @BeforeEach
    fun setUp() {
        //init mock web server
        mockWebServer = MockWebServer()
        mockWebServer.start(8080)

        //init api
        api = Retrofit.Builder()
            .baseUrl(url)
            .addConverterFactory(GsonConverterFactory.create(GsonBuilder().setLenient().create()))
            .build()
            .create(PixabayApi::class.java)

        discoveryInteractor = DiscoveryInteractor(api)
    }

    @AfterEach
    fun shutDown() {
        mockWebServer.shutdown()
    }

    // so we have 4 scenarios
    // 1) Success with data
    // 3) Failure (no network, should trigger local failure)
    // 4) Failure (api issue)

    @Test
    fun success_with_data() = runBlocking {
        mockWebServer.enqueue(
            MockResponse()
                .setResponseCode(200)
                .setBody(body_data)
        )

        val results = discoveryInteractor.getEditorsChoice().toList()

        assert(results[0] is ResponseWrapper.Loading)
        assert(results[1] is ResponseWrapper.Success)
    }


    @Test
    fun failure_local() = runBlocking {
        mockWebServer.enqueue(
            MockResponse()
                .setSocketPolicy(SocketPolicy.DISCONNECT_AT_START)
                .setBody(body_data)
        )

        val results = discoveryInteractor.getEditorsChoice().toList()

        assert(results[0] is ResponseWrapper.Loading)
        assert(results[1] is ResponseWrapper.LocalFailure)
    }

    @Test
    fun failure_api() = runBlocking {
        mockWebServer.enqueue(
            MockResponse()
                .setResponseCode(HttpURLConnection.HTTP_BAD_REQUEST)
                .setBody(body_data)
        )

        val results = discoveryInteractor.getEditorsChoice().toList()

        assert(results[0] is ResponseWrapper.Loading)
        assert(results[1] is ResponseWrapper.Failure)
    }

}


private val body_data =
    "{\"total\":30167,\"totalHits\":500,\"hits\":[{\"id\":2295434,\"pageURL\":\"https://pixabay.com/photos/spring-bird-bird-tit-spring-blue-2295434/\",\"type\":\"photo\",\"tags\":\"springbird,bird,tit\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/g39ba6bc6ef07846638917e3bfedeb5d9a091fd976218e9f6ca8b4efde2d59a5355180e6e6087878796f0cfa6f7ec1f11a75f51260621c5290d4bb75d4630816d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/g68e46fdf6a79dddc80728d2a86889df321314cddfdbacb20c340dde41c1de5610a43e18088263c93a472cf2f9e4b719d5727877b6caaed5efee0cf27a648362f_1280.jpg\",\"imageWidth\":5363,\"imageHeight\":3575,\"imageSize\":2938651,\"views\":345531,\"downloads\":175843,\"collections\":1589,\"likes\":1546,\"comments\":173,\"user_id\":334088,\"user\":\"JillWellington\",\"userImageURL\":\"https://cdn.pixabay.com/user/2018/06/27/01-23-02-27_250x250.jpg\"},{\"id\":3063284,\"pageURL\":\"https://pixabay.com/photos/rose-flower-petal-floral-noble-3063284/\",\"type\":\"photo\",\"tags\":\"rose,flower,petal\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/01/05/16/24/rose-3063284_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/g0f568bc5726e84adc7fbf66a9bb7e7cb9a88e486b78237b46d305a7ee69be66a2177c7dd73c68210058fcbf256448232d038b08d3ccf5294df5599280bcb4cbc_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/g5fcefde8dbf9187f24ff3b1cbf5cf447a1f80cd003c2a596fd5801f3b4e693a10429995a83ca82b4a1715e5d21b87a8db28853437f6de93861a9d5f36f06728d_1280.jpg\",\"imageWidth\":6000,\"imageHeight\":4000,\"imageSize\":3574625,\"views\":902355,\"downloads\":579613,\"collections\":1209,\"likes\":1360,\"comments\":296,\"user_id\":1564471,\"user\":\"anncapictures\",\"userImageURL\":\"https://cdn.pixabay.com/user/2015/11/27/06-58-54-609_250x250.jpg\"},{\"id\":887443,\"pageURL\":\"https://pixabay.com/photos/flower-life-yellow-flower-crack-887443/\",\"type\":\"photo\",\"tags\":\"flower,life,yellowflower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2015/08/13/20/06/flower-887443_150.jpg\",\"previewWidth\":150,\"previewHeight\":116,\"webformatURL\":\"https://pixabay.com/get/gc9818c761c1a16baa17f161fdb2f82fa718a2f4ce5909579d88f78a0b6135a983d895f88c1d5b4784be4400bacda5bf3_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":497,\"largeImageURL\":\"https://pixabay.com/get/g468559679073255b5463994736654e4563aeb4a52a2c73de19a827efaf15de77227f9c2d3b52c4ad2e3be09f89adcea79371de0766f1a32f531604d937ce1f23_1280.jpg\",\"imageWidth\":3867,\"imageHeight\":3005,\"imageSize\":2611531,\"views\":222906,\"downloads\":130625,\"collections\":689,\"likes\":914,\"comments\":146,\"user_id\":1298145,\"user\":\"klimkin\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/07/18/13-46-18-393_250x250.jpg\"},{\"id\":3113318,\"pageURL\":\"https://pixabay.com/photos/sunflower-nature-flora-flower-3113318/\",\"type\":\"photo\",\"tags\":\"sunflower,nature,flora\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/01/28/11/24/sunflower-3113318_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/ge7e5412efe64865a3ed6361d8ac4b0d2d2c3b4ba31cec18e8f2e8892c452dd32242fb6af61013cba22f26dc69f97bc0d0c9b90fcd6f416e533a2f200f1c11baa_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/g180e75287603c8b76f464e371422c5a7a6d5aadf9db219dff004915d6392131ef66beb15ac84148a0b9838f3848e4206bc8fe4f92f6074b7dfcfdbfe5bbf862d_1280.jpg\",\"imageWidth\":2736,\"imageHeight\":1824,\"imageSize\":1026006,\"views\":530197,\"downloads\":387571,\"collections\":626,\"likes\":936,\"comments\":148,\"user_id\":7410713,\"user\":\"bichnguyenvo\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/12/16/10-28-39-199_250x250.jpg\"},{\"id\":1127174,\"pageURL\":\"https://pixabay.com/photos/sunflower-flower-plant-petals-1127174/\",\"type\":\"photo\",\"tags\":\"sunflower,flower,plant\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/01/08/05/24/sunflower-1127174_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/g9057fbff8ff5766fcaa195598bee64b3d95b9bfa705eaede414fe3be3cd07d64a5dc3ecefff920d5c61abd3f202357933580df317fd8f1d29c1563a5dc9bf60b_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/geb28ec2ab0e0c42d36d3346ffeae7804048429db85ec3213f6bee48dcdd8842c8921e6f61c61ab8af48f879d2b5b6226ac08e34fd57e6142909df5df3b5b7ccd_1280.jpg\",\"imageWidth\":4752,\"imageHeight\":3168,\"imageSize\":3922163,\"views\":276364,\"downloads\":165397,\"collections\":816,\"likes\":822,\"comments\":100,\"user_id\":1445608,\"user\":\"mploscar\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/01/05/14-08-20-943_250x250.jpg\"},{\"id\":690320,\"pageURL\":\"https://pixabay.com/photos/tulips-yellow-tulips-flowers-690320/\",\"type\":\"photo\",\"tags\":\"tulips,yellowtulips,flowers\",\"previewURL\":\"https://cdn.pixabay.com/photo/2015/03/26/09/47/tulips-690320_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/g12c612cd634bcdeb37c8e490cd0627055cafaaa1d540bef7520a1f2f75891d8f63cc92b20aad1139d3b62511c2bbfbac_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":424,\"largeImageURL\":\"https://pixabay.com/get/ged32e48e4955c680c3e5deff05c51df3e1fa32ab11bf2ecee3b0d56f5e00bea13ea0f963b699f640606df8ed85f59d2306a8599d8b7f70a489a7f6e3d00603d8_1280.jpg\",\"imageWidth\":2256,\"imageHeight\":1496,\"imageSize\":476709,\"views\":179416,\"downloads\":100726,\"collections\":684,\"likes\":694,\"comments\":75,\"user_id\":242387,\"user\":\"Free-Photos\",\"userImageURL\":\"https://cdn.pixabay.com/user/2014/05/07/00-10-34-2_250x250.jpg\"},{\"id\":1627193,\"pageURL\":\"https://pixabay.com/photos/sunflower-yellow-flower-pollen-1627193/\",\"type\":\"photo\",\"tags\":\"sunflower,yellow,flower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/08/28/23/24/sunflower-1627193_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/gc0812edd68d463043f47d2da3e0a0d2c4d3f213ceb386ceb83e15f85e87a7421b72f2365808b457b64c9cd52212953c58db0e939330cd98bd3829b27e69c8b38_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/gc448d14ad584cd6d796fa165f9eb7533e55aac1f37837e6d602ae4d9778bac62b45f2c74415c7fdb45282201cdc995371eab257e701e9a203d4fd3787fd64a3c_1280.jpg\",\"imageWidth\":6000,\"imageHeight\":4000,\"imageSize\":5414839,\"views\":208963,\"downloads\":87861,\"collections\":585,\"likes\":528,\"comments\":97,\"user_id\":1834854,\"user\":\"ulleo\",\"userImageURL\":\"https://cdn.pixabay.com/user/2019/05/16/18-48-21-135_250x250.jpg\"},{\"id\":6515860,\"pageURL\":\"https://pixabay.com/photos/sunflowers-flowers-yellow-flowers-6515860/\",\"type\":\"photo\",\"tags\":\"sunflowers,flowers,yellowflowers\",\"previewURL\":\"https://cdn.pixabay.com/photo/2021/08/02/05/17/sunflowers-6515860_150.jpg\",\"previewWidth\":150,\"previewHeight\":100,\"webformatURL\":\"https://pixabay.com/get/g8c26f92e9b960ac65f0e2aa8c46628d124df089b740bb63ea6f137506ea8415f2251bc1b7c2cdd1e09a213d0e0db76ba8446bfd2114829377be4b4ab2dff1193_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":427,\"largeImageURL\":\"https://pixabay.com/get/g1903f9e569c65ffb93484ed1548dd84ae6a2ea635d43a948ab1e847f0b1484a43987c03fc6984b3fcc81ea3a1db23bd0af4ff8aca16a838d9bc0f26f0a114a2b_1280.jpg\",\"imageWidth\":5568,\"imageHeight\":3712,\"imageSize\":2196724,\"views\":10581,\"downloads\":5632,\"collections\":48,\"likes\":88,\"comments\":55,\"user_id\":21062476,\"user\":\"Johnnys_pic\",\"userImageURL\":\"https://cdn.pixabay.com/user/2021/04/08/09-20-51-463_250x250.jpeg\"},{\"id\":2145539,\"pageURL\":\"https://pixabay.com/photos/crocus-flower-wet-spring-2145539/\",\"type\":\"photo\",\"tags\":\"crocus,flower,wet\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/03/15/09/00/crocus-2145539_150.jpg\",\"previewWidth\":150,\"previewHeight\":91,\"webformatURL\":\"https://pixabay.com/get/g39f1a221cbb0044148e5037d0adfa1a74c538cce6ff5c621e098084041fe375e2435aab193e9bdec82b3153dcac384e83f87b0e2a75a87172a64b79449f0660f_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":390,\"largeImageURL\":\"https://pixabay.com/get/g4f85451b160b999e4dfad9665a1044f507ae4cf62cb1ee6c0f188f14bc61502c9b490939ac5277e15a79e22f8ba30bf07db582df64636f657b78dc8b289edff7_1280.jpg\",\"imageWidth\":4000,\"imageHeight\":2443,\"imageSize\":823922,\"views\":107158,\"downloads\":68570,\"collections\":525,\"likes\":593,\"comments\":61,\"user_id\":2364555,\"user\":\"pixel2013\",\"userImageURL\":\"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg\"},{\"id\":715540,\"pageURL\":\"https://pixabay.com/photos/yellow-flower-blossom-bloom-petals-715540/\",\"type\":\"photo\",\"tags\":\"yellow,flower,blossom\",\"previewURL\":\"https://cdn.pixabay.com/photo/2015/04/10/00/41/yellow-715540_150.jpg\",\"previewWidth\":150,\"previewHeight\":84,\"webformatURL\":\"https://pixabay.com/get/g91392c5b0f8e49f51fb5c8b409429123feae410adf76610bd2b611957a61ce5963cff5ee8c214793dec99a8b74e4c494_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":360,\"largeImageURL\":\"https://pixabay.com/get/g1fd052cbf62487c8bc273a2c20003e055c3d25f062beb465e7f27fdb8ae31b7435fb383406bef9139cb6b26d594b89a1762c0a55182aa49b7e5510bfbe32ceff_1280.jpg\",\"imageWidth\":3020,\"imageHeight\":1703,\"imageSize\":974940,\"views\":136227,\"downloads\":77623,\"collections\":396,\"likes\":368,\"comments\":50,\"user_id\":916237,\"user\":\"Wow_Pho\",\"userImageURL\":\"https://cdn.pixabay.com/user/2015/04/07/14-10-15-590_250x250.jpg\"},{\"id\":6520055,\"pageURL\":\"https://pixabay.com/photos/sunflower-flower-yellow-flower-6520055/\",\"type\":\"photo\",\"tags\":\"sunflower,flower,yellowflower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2021/08/03/17/48/sunflower-6520055_150.jpg\",\"previewWidth\":150,\"previewHeight\":100,\"webformatURL\":\"https://pixabay.com/get/gf28da46a51c69b9e8d353fc12aa85b759dc125123929567ac2ee2dde6c6f90b3bc5aebda8a35b053e5ac1a74b62523d41c1fa7cc0e9ffb93e1e8b8a3bdd8bcae_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":427,\"largeImageURL\":\"https://pixabay.com/get/ga0d5a6aec839a0ff1886b5bb053c14ecab422bbdaf1670d8ca652020b02d4a30501af3052aefa066ce6ef255f82130de8c9fb53357901786ce185fabedc5220b_1280.jpg\",\"imageWidth\":5184,\"imageHeight\":3456,\"imageSize\":5340849,\"views\":9552,\"downloads\":3315,\"collections\":30,\"likes\":85,\"comments\":30,\"user_id\":10607927,\"user\":\"valentinhintikka\",\"userImageURL\":\"https://cdn.pixabay.com/user/2020/07/05/17-37-41-712_250x250.jpg\"},{\"id\":1512813,\"pageURL\":\"https://pixabay.com/photos/lilies-yellow-flowers-petals-1512813/\",\"type\":\"photo\",\"tags\":\"lilies,yellow,flowers\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/07/12/18/54/lilies-1512813_150.jpg\",\"previewWidth\":150,\"previewHeight\":75,\"webformatURL\":\"https://pixabay.com/get/g6c8d3d27c2cbe5f877bca7e8bba3df1de8b9dbba6e2eeba2a4f78e6c5e8ded5ecbb3029d8a8874b39c09b080316ff00f4767492722bc26278353f6639b314f75_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":323,\"largeImageURL\":\"https://pixabay.com/get/g1b44a9f07722c5b7e26ccdb3ee072c4999ce83664bcd9554ae8076369fae5867c14cff77ed5d0b5632deb43e118f9594174701abc5617157112578a0fce58e38_1280.jpg\",\"imageWidth\":3861,\"imageHeight\":1952,\"imageSize\":1037708,\"views\":147995,\"downloads\":81345,\"collections\":510,\"likes\":515,\"comments\":45,\"user_id\":2364555,\"user\":\"pixel2013\",\"userImageURL\":\"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg\"},{\"id\":1643794,\"pageURL\":\"https://pixabay.com/photos/sunflower-bee-macro-pollen-1643794/\",\"type\":\"photo\",\"tags\":\"sunflower,bee,macro\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/09/04/12/05/sunflower-1643794_150.jpg\",\"previewWidth\":150,\"previewHeight\":113,\"webformatURL\":\"https://pixabay.com/get/gfdb27e13d254a71417cdcf0a438269340c9642ebae647a6ad6986ac7a36aef2e9192cbfbf967388fcec22bfd377a01633720ed31ffd9142d23e7ca65d5c8a104_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":484,\"largeImageURL\":\"https://pixabay.com/get/g46eeac0cc0bafa8023912d6e25620dd263ae50a757179ccebcd87e84390b17f9275641f1f5ca179ce07036d383ff6333922d4c451f045b26ae66129b7c9abd01_1280.jpg\",\"imageWidth\":5285,\"imageHeight\":4000,\"imageSize\":5457910,\"views\":114108,\"downloads\":81766,\"collections\":456,\"likes\":399,\"comments\":37,\"user_id\":686414,\"user\":\"Alexas_Fotos\",\"userImageURL\":\"https://cdn.pixabay.com/user/2021/05/06/10-24-10-84_250x250.jpg\"},{\"id\":1536088,\"pageURL\":\"https://pixabay.com/photos/sunflower-flower-plant-petals-1536088/\",\"type\":\"photo\",\"tags\":\"sunflower,flower,plant\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/07/23/00/12/sunflower-1536088_150.jpg\",\"previewWidth\":150,\"previewHeight\":98,\"webformatURL\":\"https://pixabay.com/get/g0a7b58b0b31e8fca00c817257eacb85e45f39969e442fae2cc0f4a895b348a9c5fa6284063ea0f6bb57ed99d3672e1ca57d369027c4e14b525ecae880c3807a1_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":419,\"largeImageURL\":\"https://pixabay.com/get/g60c3133125f1dc7ad5addb4d0f87f869f7526516262d70df9af53a450760b2c2d8d8383dfeb809542f670b2e5b36429d89abd2f67e27f674171d3c220b74e9c4_1280.jpg\",\"imageWidth\":4896,\"imageHeight\":3208,\"imageSize\":5103399,\"views\":356707,\"downloads\":92467,\"collections\":428,\"likes\":480,\"comments\":82,\"user_id\":1195798,\"user\":\"Couleur\",\"userImageURL\":\"https://cdn.pixabay.com/user/2021/07/15/17-45-28-430_250x250.jpg\"},{\"id\":3540266,\"pageURL\":\"https://pixabay.com/photos/sunflower-flower-yellow-flower-3540266/\",\"type\":\"photo\",\"tags\":\"sunflower,flower,yellowflower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/07/15/19/02/sunflower-3540266_150.jpg\",\"previewWidth\":150,\"previewHeight\":102,\"webformatURL\":\"https://pixabay.com/get/g2694532521faf3ad4967eb4883d7326859e4cba294d3ec05f24b274d8de70bf75d8e7fca7e5ef190b2b4b3923bbf6c6d9c01442143880ae059cc673de403bb50_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":437,\"largeImageURL\":\"https://pixabay.com/get/g243b7798db10a11e11f2823503defc3484e4c06f1c9edfd0e56a38c0d71b8a265dbf032799c428abc9076ddc086a738a0f0d5658e09afee04eac2605ebd38501_1280.jpg\",\"imageWidth\":5500,\"imageHeight\":3760,\"imageSize\":4179978,\"views\":109145,\"downloads\":91058,\"collections\":344,\"likes\":361,\"comments\":46,\"user_id\":2364555,\"user\":\"pixel2013\",\"userImageURL\":\"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg\"},{\"id\":190483,\"pageURL\":\"https://pixabay.com/photos/bike-bicycle-wheels-bicycle-wheels-190483/\",\"type\":\"photo\",\"tags\":\"bike,bicycle,wheels\",\"previewURL\":\"https://cdn.pixabay.com/photo/2013/10/03/23/19/bike-190483_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/gbc19e60507f98762927f89cd8094de5ef1fb55e8265ddc4c3407080c599324c50d70701a4158aebe6d76e81398001eee_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/g46d08b3c36d982cde54bdbd4c3c0645cb5c62f18c75e4a33bc2e8193f45e6736db0c1b47187a388fec09816c024f24f50cd650b59dffc1277022569f3098a567_1280.jpg\",\"imageWidth\":2160,\"imageHeight\":1440,\"imageSize\":2093738,\"views\":130955,\"downloads\":41443,\"collections\":447,\"likes\":447,\"comments\":56,\"user_id\":55851,\"user\":\"danfador\",\"userImageURL\":\"\"},{\"id\":3792914,\"pageURL\":\"https://pixabay.com/photos/sunflowers-flowers-sunflower-field-3792914/\",\"type\":\"photo\",\"tags\":\"sunflowers,flowers,sunflowerfield\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/11/03/21/42/sunflowers-3792914_150.jpg\",\"previewWidth\":150,\"previewHeight\":69,\"webformatURL\":\"https://pixabay.com/get/g3c800272453c4d337b83f738da982ebc90c1ab4c4af53d39fa1164159d9fe89be683e6e3048f3f949c12eed43b009bc6fff23365076ccd835db0c943a9373267_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":296,\"largeImageURL\":\"https://pixabay.com/get/g99746ce1bee4e96e966f57474b28e1ee04d5652b015a5c925921611219f276c3e70017b17c98421b3a5fbeee347de58da15c9e72d3f73d7d8a6c7206598269eb_1280.jpg\",\"imageWidth\":6000,\"imageHeight\":2780,\"imageSize\":3835319,\"views\":143745,\"downloads\":91624,\"collections\":416,\"likes\":468,\"comments\":104,\"user_id\":165106,\"user\":\"suju-foto\",\"userImageURL\":\"https://cdn.pixabay.com/user/2021/07/08/15-09-01-193_250x250.jpeg\"},{\"id\":6546993,\"pageURL\":\"https://pixabay.com/photos/sunflower-flower-yellow-flower-6546993/\",\"type\":\"photo\",\"tags\":\"sunflower,flower,yellowflower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2021/08/15/06/54/sunflower-6546993_150.jpg\",\"previewWidth\":150,\"previewHeight\":100,\"webformatURL\":\"https://pixabay.com/get/g592bdbff17500cf3cbf6d957ec2bd0bf55d5a3b5d8bc1fc116d6b82dbd941b57f6c22550183c25b94e6fd8961bd0438391843e4500e794681de7003674a15721_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":427,\"largeImageURL\":\"https://pixabay.com/get/g9ec29cdb2710cc9ed42728d9f602cb557c3593878e3cd4fd6e1c4b7216152a5ed48e179f7d29b53b3718f9032bf295140dc0140d23c43fadcd6b4f4144c2ea17_1280.jpg\",\"imageWidth\":5472,\"imageHeight\":3648,\"imageSize\":2522735,\"views\":11880,\"downloads\":8719,\"collections\":18,\"likes\":60,\"comments\":49,\"user_id\":201217,\"user\":\"blende12\",\"userImageURL\":\"https://cdn.pixabay.com/user/2021/04/08/15-30-57-574_250x250.jpg\"},{\"id\":1144084,\"pageURL\":\"https://pixabay.com/photos/poppy-fields-landscape-nature-1144084/\",\"type\":\"photo\",\"tags\":\"poppy,fields,landscape\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/01/16/22/03/poppy-1144084_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/gdb2c3047f2d8b06954571aab6e19c2659f2d2797f4741b48eb2daa00f52e65f8195ede282b0c2b63af6683e20512b7a34a049e0abb904f85634e898a28433f88_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/g67b7d2217c9b396035e4061dd989e26cf23a92b07050760a0bc19b156c4dbeea2a6d657171eb69fabc8db7dd65bb968e9de88d6c4e12505ce4c8f693bae63469_1280.jpg\",\"imageWidth\":5760,\"imageHeight\":3840,\"imageSize\":3692207,\"views\":56182,\"downloads\":30892,\"collections\":310,\"likes\":281,\"comments\":27,\"user_id\":1798295,\"user\":\"WenPhotos\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/01/12/16-44-55-409_250x250.jpg\"},{\"id\":170551,\"pageURL\":\"https://pixabay.com/photos/bee-insect-flower-honey-bee-animal-170551/\",\"type\":\"photo\",\"tags\":\"bee,insect,flower\",\"previewURL\":\"https://cdn.pixabay.com/photo/2013/08/07/20/13/bee-170551_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/g720bb4c6005c83134e0208ee2cf82d6353e8b4298f095d3874589b2c924764201a39fdbfbf205456ed79198041be6829_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":425,\"largeImageURL\":\"https://pixabay.com/get/g32e7eaf7a2d4c8f4bac7836b07faadb72804d58381dd5ff201aa7b645f1f382c19d0ad5472782aaffb42ee40614bb190309d2cb37a5ebbbb426e5f889b363496_1280.jpg\",\"imageWidth\":4288,\"imageHeight\":2848,\"imageSize\":1573435,\"views\":89950,\"downloads\":41093,\"collections\":329,\"likes\":387,\"comments\":67,\"user_id\":8442,\"user\":\"katja\",\"userImageURL\":\"https://cdn.pixabay.com/user/2012/08/28/21-40-44-811_250x250.jpg\"}]}"
